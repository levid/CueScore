var me = this;

this.ballSelectorContainer = Titanium.UI.createImageView({
	backgroundColor: 'transparent',
	top: 0,
	left: 0,
	height: getPlatformHeight(),
	width: getPlatformWidth()
});
this.ballSelectorContainer.visible = false;

this.ballView = Titanium.UI.createView({
	top: (Ti.Platform.name != 'android') ? 125 : 150,
	height: 220,
	width: 155
});

this.ballOneButton = Titanium.UI.createImageView({
	color:'#FFF',
	backgroundImage:  'images/match/largeballs/1ball-large.png',
	top: 168,
	left: 54,
	opacity: 1,
	width: 47,
	height: 47,
	isNinePatch: false
});

this.ballOneBg = Titanium.UI.createImageView({
	color:'#FFF',
	backgroundImage:  'images/match/largeballs/1ball-large-inactive.png',
	top: 168,
	left: 54,
	opacity: 1,
	width: 47,
	height: 47,
	isNinePatch: false
});

this.ballOneShadow = Titanium.UI.createImageView({
	backgroundImage:  'images/match/largeballs/shadow-large-balls.png',
	top: 158,
	left: 44,
	opacity: 1,
	width: 66,
	height: 66,
	isNinePatch: false
});

this.ballTwoButton = Titanium.UI.createImageView({
	color:'#FFF',
	backgroundImage:  'images/match/largeballs/2ball-large.png',
	top: 128,
	left: 32,
	opacity: 1,
	width: 47,
	height: 47,
	isNinePatch: false
});

this.ballTwoBg = Titanium.UI.createImageView({
	color:'#FFF',
	backgroundImage:  'images/match/largeballs/2ball-large-inactive.png',
	top: 128,
	left: 32,
	opacity: 1,
	width: 47,
	height: 47,
	isNinePatch: false
});

this.ballTwoShadow = Titanium.UI.createImageView({
	backgroundImage:  'images/match/largeballs/shadow-large-balls.png',
	top: 118,
	left: 23,
	opacity: 1,
	width: 66,
	height: 66,
	isNinePatch: false
});
 
this.ballThreeButton = Titanium.UI.createImageView({
	color:'#FFF',
	backgroundImage:  'images/match/largeballs/3ball-large.png',
	top: 128,
	left: 76,
	opacity: 1,
	width: 47,
	height: 47,
	isNinePatch: false
});

this.ballThreeBg = Titanium.UI.createImageView({
	color:'#FFF',
	backgroundImage:  'images/match/largeballs/3ball-large-inactive.png',
	top: 128,
	left: 76,
	opacity: 1,
	width: 47,
	height: 47,
	isNinePatch: false
});

this.ballThreeShadow = Titanium.UI.createImageView({
	backgroundImage:  'images/match/largeballs/shadow-large-balls.png',
	top: 118,
	left: 67,
	opacity: 1,
	width: 66,
	height: 66,
	isNinePatch: false
});

this.ballFourButton = Titanium.UI.createImageView({
	color:'#FFF',
	backgroundImage:  'images/match/largeballs/4ball-large.png',
	top: 88,
	left: 99,
	opacity: 1,
	width: 47,
	height: 47,
	isNinePatch: false
});

this.ballFourBg = Titanium.UI.createImageView({
	color:'#FFF',
	backgroundImage:  'images/match/largeballs/4ball-large-inactive.png',
	top: 88,
	left: 99,
	opacity: 1,
	width: 47,
	height: 47,
	isNinePatch: false
});

this.ballFourShadow = Titanium.UI.createImageView({
	backgroundImage:  'images/match/largeballs/shadow-large-balls.png',
	top: 78,
	left: 90,
	opacity: 1,
	width: 66,
	height: 66,
	isNinePatch: false
});

this.ballFiveButton = Titanium.UI.createImageView({
	color:'#FFF',
	backgroundImage:  'images/match/largeballs/5ball-large.png',
	top: 88,
	left: 10,
	opacity: 1,
	width: 47,
	height: 47,
	isNinePatch: false
});

this.ballFiveBg = Titanium.UI.createImageView({
	color:'#FFF',
	backgroundImage:  'images/match/largeballs/5ball-large-inactive.png',
	top: 88,
	left: 10,
	opacity: 1,
	width: 47,
	height: 47,
	isNinePatch: false
});

this.ballFiveShadow = Titanium.UI.createImageView({
	backgroundImage:  'images/match/largeballs/shadow-large-balls.png',
	top: 78,
	left: 0,
	opacity: 1,
	width: 66,
	height: 66,
	isNinePatch: false
});

this.ballSixButton = Titanium.UI.createImageView({
	color:'#FFF',
	backgroundImage:  'images/match/largeballs/6ball-large.png',
	top: 48,
	left: 32,
	opacity: 1,
	width: 47,
	height: 47,
	isNinePatch: false
});

this.ballSixBg = Titanium.UI.createImageView({
	color:'#FFF',
	backgroundImage:  'images/match/largeballs/6ball-large-inactive.png',
	top: 48,
	left: 32,
	opacity: 1,
	width: 47,
	height: 47,
	isNinePatch: false
});

this.ballSixShadow = Titanium.UI.createImageView({
	backgroundImage:  'images/match/largeballs/shadow-large-balls.png',
	top: 38,
	left: 23,
	opacity: 1,
	width: 66,
	height: 66,
	isNinePatch: false
});

this.ballSevenButton = Titanium.UI.createImageView({
	color:'#FFF',
	backgroundImage:  'images/match/largeballs/7ball-large.png',
	top: 48,
	left: 77,
	opacity: 1,
	width: 47,
	height: 47
});

this.ballSevenBg = Titanium.UI.createImageView({
	color:'#FFF',
	backgroundImage:  'images/match/largeballs/7ball-large-inactive.png',
	top: 48,
	left: 77,
	opacity: 1,
	width: 47,
	height: 47
});

this.ballSevenShadow = Titanium.UI.createImageView({
	backgroundImage:  'images/match/largeballs/shadow-large-balls.png',
	top: 38,
	left: 68,
	opacity: 1,
	width: 66,
	height: 66
});

this.ballEightButton = Titanium.UI.createImageView({
	color:'#FFF',
	backgroundImage:  'images/match/largeballs/8ball-large.png',
	top: 10,
	left: 54,
	opacity: 1,
	width: 47,
	height: 47,
	isNinePatch: false
});

this.ballEightBg = Titanium.UI.createImageView({
	color:'#FFF',
	backgroundImage:  'images/match/largeballs/8ball-large-inactive.png',
	top: 10,
	left: 54,
	opacity: 1,
	width: 47,
	height: 47,
	isNinePatch: false
});

this.ballEightShadow = Titanium.UI.createImageView({
	backgroundImage:  'images/match/largeballs/shadow-large-balls.png',
	top: 0,
	left: 45,
	opacity: 1,
	width: 66,
	height: 66,
	isNinePatch: false
});

this.ballNineButton = Titanium.UI.createImageView({
	color:'#FFF',
	backgroundImage:  'images/match/largeballs/9ball-large.png',
	top: 88,
	left: 55,
	opacity: 1,
	width: 47,
	height: 47,
	isNinePatch: false
});

this.ballNineBg = Titanium.UI.createImageView({
	color:'#FFF',
	backgroundImage:  'images/match/largeballs/9ball-large-inactive.png',
	top: 88,
	left: 55,
	opacity: 1,
	width: 47,
	height: 47,
	isNinePatch: false
});

this.ballNineShadow = Titanium.UI.createImageView({
	backgroundImage:  'images/match/largeballs/shadow-large-balls.png',
	top: 78,
	left: 45,
	opacity: 1,
	width: 66,
	height: 66,
	isNinePatch: false
});

this.ballSelectorContainer.addEventListener('click', function(){
	me.closeBallSelector();	
});
this.ballOneButton.addEventListener('click', function(){
	me.showBallSelector(me.ballOneButton.top, me.ballOneButton.left, me.ballOneButton.height, me.ballOneButton.width, '1');
});
this.ballTwoButton.addEventListener('click', function(){
	me.showBallSelector(me.ballTwoButton.top, me.ballTwoButton.left, me.ballTwoButton.height, me.ballTwoButton.width, '2');
});
this.ballThreeButton.addEventListener('click', function(){
	me.showBallSelector(me.ballThreeButton.top, me.ballThreeButton.left, me.ballThreeButton.height, me.ballThreeButton.width, '3');
});
this.ballFourButton.addEventListener('click', function(){
	me.showBallSelector(me.ballFourButton.top, me.ballFourButton.left, me.ballFourButton.height, me.ballFourButton.width, '4');
});
this.ballFiveButton.addEventListener('click', function(){
	me.showBallSelector(me.ballFiveButton.top, me.ballFiveButton.left, me.ballFiveButton.height, me.ballFiveButton.width, '5');
});
this.ballSixButton.addEventListener('click', function(){
	me.showBallSelector(me.ballSixButton.top, me.ballSixButton.left, me.ballSixButton.height, me.ballSixButton.width, '6');
});
this.ballSevenButton.addEventListener('click', function(){
	me.showBallSelector(me.ballSevenButton.top, me.ballSevenButton.left, me.ballSevenButton.height, me.ballSevenButton.width, '7');
});
this.ballEightButton.addEventListener('click', function(){
	me.showBallSelector(me.ballEightButton.top, me.ballEightButton.left, me.ballEightButton.height, me.ballEightButton.width, '8');
});
this.ballNineButton.addEventListener('click', function(){
	me.showBallSelector(me.ballNineButton.top, me.ballNineButton.left, me.ballNineButton.height, me.ballNineButton.width, '9');
});

this.ballView.add(this.ballOneShadow);
this.ballView.add(this.ballTwoShadow);
this.ballView.add(this.ballThreeShadow);
this.ballView.add(this.ballFourShadow);
this.ballView.add(this.ballFiveShadow);
this.ballView.add(this.ballSixShadow);
this.ballView.add(this.ballSevenShadow);
this.ballView.add(this.ballEightShadow);
this.ballView.add(this.ballNineShadow);

this.ballView.add(this.ballOneBg);
this.ballView.add(this.ballTwoBg);
this.ballView.add(this.ballThreeBg);
this.ballView.add(this.ballFourBg);
this.ballView.add(this.ballFiveBg);
this.ballView.add(this.ballSixBg);
this.ballView.add(this.ballSevenBg);
this.ballView.add(this.ballEightBg);
this.ballView.add(this.ballNineBg);

this.ballView.add(this.ballOneButton);
this.ballView.add(this.ballTwoButton);
this.ballView.add(this.ballThreeButton);
this.ballView.add(this.ballFourButton);
this.ballView.add(this.ballFiveButton);
this.ballView.add(this.ballSixButton);
this.ballView.add(this.ballSevenButton);
this.ballView.add(this.ballEightButton);
this.ballView.add(this.ballNineButton);
this.view.add(this.ballSelectorContainer);
this.view.add(this.ballView);

this.showBallSelector = function(top, left, height, width, ballNumber) {
	var centerTop = ((height / 2) + top + this.ballView.top);
	var centerLeft = ((width / 2) + left + ((this.getPlatformWidth() / 2) - (this.ballView.width / 2)));
	this.centerBallSelector(centerTop, centerLeft, ballNumber);
};
this.closeBallSelector = function() {
	this.closeOverlay();
};


this.updateShownBalls = function() {
	
	var ballsIn = this.currentMatch.CurrentGame.getBallsHitIn();
	
	this.ballOneButton.visible = !(ballsIn.exists(1));
	this.ballTwoButton.visible = !(ballsIn.exists(2));
	this.ballThreeButton.visible = !(ballsIn.exists(3));
	this.ballFourButton.visible = !(ballsIn.exists(4));
	this.ballFiveButton.visible = !(ballsIn.exists(5));
	this.ballSixButton.visible = !(ballsIn.exists(6));
	this.ballSevenButton.visible = !(ballsIn.exists(7));
	this.ballEightButton.visible = !(ballsIn.exists(8));
	this.ballNineButton.visible = !(ballsIn.exists(9));
	
	this.ballOneShadow.visible = !(ballsIn.exists(1));
	this.ballTwoShadow.visible = !(ballsIn.exists(2));
	this.ballThreeShadow.visible = !(ballsIn.exists(3));
	this.ballFourShadow.visible = !(ballsIn.exists(4));
	this.ballFiveShadow.visible = !(ballsIn.exists(5));
	this.ballSixShadow.visible = !(ballsIn.exists(6));
	this.ballSevenShadow.visible = !(ballsIn.exists(7));
	this.ballEightShadow.visible = !(ballsIn.exists(8));
	this.ballNineShadow.visible = !(ballsIn.exists(9));
	
	this.updatePlayerOneBalls();
	this.updatePlayerTwoBalls();
};